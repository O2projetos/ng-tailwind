<form>
    <div class="relative z-20 w-full inline-block box-border">
        <input type="hidden" [ngModel]="value" [value]="value" [name]="name">

        <div
            class="flex items-center cursor-pointer justify-between w-full px-2 {{datepickerOptions.hideCalendarIcon ? '' : 'gap-2'}} {{inputClasses}}"
            (click)="open()" #input>
            <div class="truncate">
                <div *ngIf="!value" class="opacity-75">
                    {{datepickerOptions.placeholder}}
                </div>

                {{formattedValue}}
            </div>

            <div *ngIf="!datepickerOptions.hideCalendarIcon" class="flex h-full items-center cursor-pointer">
                <svg class="fill-current text-lg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4Zm1,15a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V12H20Zm0-9H4V7A1,1,0,0,1,5,6H7V7A1,1,0,0,0,9,7V6h6V7a1,1,0,0,0,2,0V6h2a1,1,0,0,1,1,1Z"/>
                </svg>
            </div>
        </div>

        <div *ngIf="isOpened && template && datepickerOptions"
             class="absolute w-64 rounded left-0 mt-1 z-50 {{template.textColor}} {{template.datepickerBackground}} shadow p-3"
             #datepicker>
            <div class="w-full flex justify-between items-center">
                <div class="h-full font-bold flex items-center relative">
                    {{ date | date:'MMMM' }}
                </div>
                <div class="h-full flex justify-end gap-3 items-center text-xl">
                    <svg class="fill-current cursor-pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         (click)="prevMonth()">
                        <path
                            d="M11.29,12l3.54-3.54a1,1,0,0,0,0-1.41,1,1,0,0,0-1.42,0L9.17,11.29a1,1,0,0,0,0,1.42L13.41,17a1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41Z"/>
                    </svg>
                    <svg class="fill-current cursor-pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         (click)="nextMonth()">
                        <path
                            d="M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"/>
                    </svg>
                </div>
            </div>

            <div class="block w-full h-full text-sm">
                <div class="w-full flex flex-wrap items-center justify-between h-12">
                    <div *ngFor="let day of weekDays" class="font-bold text-center"
                         style="width: calc(100% / 7)">
                        {{day}}
                    </div>
                </div>
                <div class="w-full flex flex-wrap items-center">
                    <div *ngFor="let day of days" style="width: calc(100% / 7)">
                        <div
                            class="day-unit flex justify-center rounded w-8 h-8 items-center cursor-pointer {{template.onDayHover}} {{dayClasses(day)}}"
                            (click)="setDate(day)">
                            {{ day.day }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
